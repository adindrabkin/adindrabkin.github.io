<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <meta name="color-scheme" content="light dark">

    

    <meta name="author" content="Adin Drabkin">
    <meta name="description" content="Offensive Security Certificate Professional (OSCP) 2024 Takeaways After being a full time offensive security consultant for almost three years, I finally decided to take the OSCP.">
    <meta name="keywords" content="">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OSCP Takeaways in 2024"/>
<meta name="twitter:description" content="Offensive Security Certificate Professional (OSCP) 2024 Takeaways After being a full time offensive security consultant for almost three years, I finally decided to take the OSCP."/>

    <meta property="og:title" content="OSCP Takeaways in 2024" />
<meta property="og:description" content="Offensive Security Certificate Professional (OSCP) 2024 Takeaways After being a full time offensive security consultant for almost three years, I finally decided to take the OSCP." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://adindrabkin.com/blog/oscp-takeaways-in-2024/" /><meta property="article:section" content="blog" />
<meta property="article:published_time" content="2024-08-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-08-12T00:00:00+00:00" />


    <title>
  OSCP Takeaways in 2024 · Adin Drabkin
</title>

    
      <link rel="canonical" href="https://adindrabkin.com/blog/oscp-takeaways-in-2024/">
    

    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/css/coder.min.7b314bd953f9bf97050dc5a58a3bc9cea394b9438d373447ddfe7365d5efe091.css" integrity="sha256-ezFL2VP5v5cFDcWlijvJzqOUuUONNzRH3f5zZdXv4JE=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="/css/coder-dark.min.ccbbada2e264e4fdbf9b2181cccc2cdb289a63dc9520a1e96ac2b9a45778df29.css" integrity="sha256-zLutouJk5P2/myGBzMws2yiaY9yVIKHpasK5pFd43yk=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.111.3">
  </head>

  
  
    
  
  <body class="preload-transitions colorscheme-auto">
    
<div class="float-container">
    <a id="dark-mode-toggle" class="colorscheme-toggle">
        <i class="fa fa-adjust fa-fw" aria-hidden="true"></i>
    </a>
</div>


    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      Adin Drabkin
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
        
        
        
          <li class="navigation-item">
            <a class="navigation-link" href="/" >Home</a>
          </li>
        
        
        
          <li class="navigation-item">
            <a class="navigation-link" href="/about/" >About</a>
          </li>
        
        
        
          <li class="navigation-item">
            <a class="navigation-link" href="/blog/" >Blog</a>
          </li>
        
      
        
    </ul>
  
</section>
</nav>

      <div class="content">
        
  <section class="container page">
  <article>
    <header>
      <h1 class="title">
        <a class="title-link" href="https://adindrabkin.com/blog/oscp-takeaways-in-2024/">
          OSCP Takeaways in 2024
        </a>
      </h1>
    </header>

    <h1 id="offensive-security-certificate-professional-oscp-2024-takeaways">
  Offensive Security Certificate Professional (OSCP) 2024 Takeaways
  <a class="heading-link" href="#offensive-security-certificate-professional-oscp-2024-takeaways">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h1>
<p>After being a full time offensive security consultant for almost three years, I finally decided to take the OSCP. It was a bit different from my day job, and was a challenge in its own right.</p>
<p>This post aims to differ from other OSCP reflection blog posts by discussing challenges and takeaways from the perspective of someone who regularly performs assessments for large corporations. During a real assessment, speed is not the first priority, as forcing speed can result in error, downtime, financial and even life-threatening consequences depending on the environment.</p>
<p>While the OSCP can lay the foundation for a pentesting career, some of the compromise paths required may not be regularly considered when working in a live environment.</p>
<p>This blog post assumes you have some experience with HackTheBox and professional offensive security, but aims to be useful to anyone with a security background considering the OSCP exam.</p>
<h2 id="preparations">
  Preparations
  <a class="heading-link" href="#preparations">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>As of 2024, the OSCP required 70 points to pass. Compromise of the entire Active Directory set (3 machines) would yield 40 points and full compromise of a standalone machine would yield 20 points.</p>
<p>I decided to obtain the extra credit of 10 points, which required completing 80% of each section of PEN-200 module labs, and submitting 30 proof flags from the challenge labs. The module labs were not an enjoyable experience to get through, but I appreciated the exposure to OffSec&rsquo;s methodology prior to taking the exam.</p>
<p>A few problems to keep in mind if you plan to work through the module labs:</p>
<ul>
<li>Should the OffSec VPN disconnect for even a second, the module and challenge labs turned off and reverted. The OSCP A, B, and C challenge labs were the only ones exempt from this practice.</li>
<li>When the module labs were shutdown (e.g., from a VPN disconnect), a cooling off period was applied to prevent an immediate reboot.</li>
<li>PEN-200 modules included tasks such as installing and running Nessus, which was entirely useless for the exam, as Nessus is not allowed.</li>
<li>The labs were built inconsistently - certain labs used credentials hidden away in large text blocks, while other labs explicitly stated them near the lab task.</li>
<li>As an M1 Mac user, a number of the labs required that I execute an arbitrary amd64 Linux executable to retrieve the flag. As non-standard proxy tools were used for the labs, I could not simply run <code>qemu-x86_64-static</code> on the binary.</li>
</ul>
<p>To achieve 80% on the module labs, I had to spin up an amd64 GCP/AWS instance to run the executables provided by OffSec. Additionally, I was allowed only one active VPN connection at a time, meaning that switching between my Windows, Ubuntu, and cloud instance required I restart each challenge from zero. Earning 80% on the module labs was not an enjoyable experience. I am glad I guaranteed myself extra credit on the exam, and was able to practice security testing in a manner expected by OffSec. In retrospect, I could have learned OffSec&rsquo;s methodology through the challenge labs and skipped the extra credit.</p>
<p>After completing the majority of the challenge lab boxes, I reviewed my notes and outlined each attack path. If there was a stage that resulted in me using the OffSec discord for assistance, I specifically noted actionable enumeration steps and realistic thought considerations for future boxes.</p>
<p>For completeness, I continuously updated my notes with commands used for local enumeration. After obtaining 30 proof flags, I had a list of PowerShell and Unix one-liners to quickly identify potential credentials in user history, locate hidden folders, and similar for pre and post exploitation tasks.</p>
<p>A combination of a cheat sheet and OffSec-specific bullet points served me well. The bullet points acted as my supplementary checklist of critical, primary steps I should prioritize against an OffSec box.</p>
<h2 id="exam">
  Exam
  <a class="heading-link" href="#exam">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>I began the exam at 8am on a Friday and reached 70 points (AD set and the first standalone box) by 4pm. While reporting, I rooted a second standalone box as an insurance policy for myself, and submitted the report at 7pm.</p>
<p>I made two mistakes during my exam which cost me a combined total of three hours of time (~90 minutes given I did an extra box):</p>
<ul>
<li>I accidentally used Hashcat syntax when using John the Ripper, resulting in John&rsquo;s default wordlist and mask being used instead of the mask described in my takeaways below.</li>
<li>I forgot to attempt default/common credentials on a network-accessible service.</li>
</ul>
<p>The following list acted as my supplementary, OffSec-specific checklist:</p>
<ul>
<li><strong>Ensure you collect a full port and service scan of every machine</strong>. The ratio of non-standard ports on OffSec is significantly higher than a client environment due to the lack of scale.</li>
<li>If you have RCE but no shell callback, <strong>methodically try every compatible option on revshells.com</strong>.</li>
<li>It is unlikely to take a machine offline with scans alone. Increase the threading and speed to <strong>allow for your default wordlists to include case-sensitive files and directories</strong>.</li>
<li>Assume that there is a <strong>greater than 50% chance that groups of credentials you find will be used on the next &ldquo;task&rdquo;</strong>. While not guaranteed, many of the tasks were linear.</li>
<li>Hash cracking can be done with the rockyou wordlist with a ruleset that (1) changes nothing (2) appends &ldquo;1&rdquo; (3) appends &ldquo;!&rdquo;.</li>
<li><strong>Start from zero when you feel stuck</strong>. Restart the machine, take a walk, and come back with a fresh mind to re-configure your proxychains, payload, and reverse shells.</li>
<li><strong>Use both impacket-secretsdump and NetExec</strong> to quickly perform the majority of AD post-compromise and enumeration.</li>
<li><strong>Keep an excel-like checklist of credentials, ports, and services</strong>. Each set of credentials should be attempted against each set port and service.</li>
<li>If an exploit is failing, search Github for a newer or multi-part version of the same exploit. <strong>The most common proof of concept exploit may not work</strong>.</li>
</ul>
<p>Contrary to the negative experience suffered by many of my peers, I did not have any issues with the exam machines or network. My first two proctors were very responsive and personable, while the third was unresponsive until their shift ended.</p>
<h2 id="reporting">
  Reporting
  <a class="heading-link" href="#reporting">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h2>
<p>I took a very low-risk approach to the report, and prepared a copy of OffSec&rsquo;s OSCP example report: <a href="https://www.offsec.com/pwk-online/PWKv1-Report.docx" target="_blank" rel="noreferrer noopener">https://www.offsec.com/pwk-online/PWKv1-Report.docx</a>
</p>
<p>As someone who regularly writes 50-100 page, logically and grammatically correct reports inclusive of an executive summary, story-based technical narrative, and detailed finding blocks, the most difficult part of reporting was throwing all of my habits out the window. The example report had no regard for tense or point of view, and switched between &ldquo;I&rdquo;, &ldquo;We&rdquo;, and &ldquo;&lt;NAME&gt;&rdquo;. For simplicity, I did not go beyond OffSec&rsquo;s reporting standards.</p>
<p>The goal of this report was to prove I documented my steps and nothing more.</p>
<p>I included all source code used (including a reverse shell), and added a footnote with the link for any tools mentioned. As with the report template above, the structure was chronological, and did not include any information that was not directly relevant to my attack path.</p>
<p>After finishing the boxes on the exam, I kept the exam and proctor session running to allow myself to re-compromise boxes and obtain additional screenshots.</p>

  </article>
</section>

  

      </div>

      <footer class="footer">
  <section class="container">
    ©
    
    2024
     Adin Drabkin 
    ·
    Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

    </main>

    
      
      <script src="/js/coder.min.cb0c595e02234420f3ad3886bf4a9bd2874d0e1e78e090138a9ef158b35aaf17.js" integrity="sha256-ywxZXgIjRCDzrTiGv0qb0odNDh544JATip7xWLNarxc="></script>
    

    

    

    

    

    

    

    

    
  </body>

</html>
